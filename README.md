# üì£ –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∂–∞–ª–æ–± –∫–ª–∏–µ–Ω—Ç–æ–≤

> –°–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∂–∞–ª–æ–±—ã –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Ö —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Å –ø–æ–º–æ—â—å—é –ò–ò, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–±—Ä–∞—â–µ–Ω–∏—è–º–∏.

---

## üß© –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- ‚úÖ –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∂–∞–ª–æ–±—ã –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤
- üîç –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç **—Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** —á–µ—Ä–µ–∑ [APILayer Sentiment Analysis](https://apilayer.com/marketplace/sentiment_analysis-api)
- ü§ñ –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç **–∫–∞—Ç–µ–≥–æ—Ä–∏—é** —Å –ø–æ–º–æ—â—å—é OpenAI GPT-3.5 Turbo
- üíæ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ **SQLite**
- üïí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Å–æ–∑–¥–∞–Ω–∏—è
- üîÑ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–∫—Ä—ã—Ç–∏—è –∂–∞–ª–æ–±—ã —á–µ—Ä–µ–∑ API

---

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.10+
- FastAPI
- SQLite
- OpenAI API –∫–ª—é—á
- APILayer API –∫–ª—é—á

---

## üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
SENTIMENT_API_KEY=your_apilayer_api_key
OPENAI_API_KEY=your_openai_api_key
```

---

## üì¶ –ó–∞–ø—É—Å–∫

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
docker-compose up
```

---

## üóÉÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–∏—Å–∞:

```sql
CREATE TABLE IF NOT EXISTS complaints (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    text TEXT NOT NULL,
    status TEXT DEFAULT 'open',
    timestamp INTEGER NOT NULL,
    sentiment TEXT DEFAULT 'unknown',
    category TEXT DEFAULT '–¥—Ä—É–≥–æ–µ'
);
```

–§–∞–π–ª–æ–≤–∞—è –±–∞–∑–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ `complaints.db`.

---

## üåê –î–æ—Å—Ç—É–ø–Ω—ã–µ API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|----------|
| POST | `/complaint` | –ü—Ä–∏–Ω—è—Ç—å –Ω–æ–≤—É—é –∂–∞–ª–æ–±—É |
| GET | `/complaints` | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∂–∞–ª–æ–± –∑–∞ –ø–µ—Ä–∏–æ–¥ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ —Å—Ç–∞—Ç—É—Å—É |
| POST | `/closeComplaint` | –ó–∞–∫—Ä—ã—Ç—å –∂–∞–ª–æ–±—É –ø–æ ID |

---

## üìù –ú–æ–¥–µ–ª–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤

### `POST /complaint`

```json
{
  "text": "–ù–µ –º–æ–≥—É –≤–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç"
}
```

### –û—Ç–≤–µ—Ç:

```json
{
  "id": 1,
  "status": "open",
  "sentiment": "negative",
  "category": "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è"
}
```

### `GET /complaints`

```json
{
  "status": "open",
  "hours": 1
}
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∑–∞–ø–∏—Å–µ–π:

```json
{
  "complaints": [
    {
      "id": 1,
      "text": "–ù–µ –º–æ–≥—É –≤–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç",
      "status": "open",
      "timestamp": 1719823456,
      "sentiment": "negative",
      "category": "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è"
    }
  ]
}
```

### `POST /closeComplaint

```json
{
    "complaint_id": 13
}
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∑–∞–ø–∏—Å–µ–π:

```json
{
  "message": "–ñ–∞–ª–æ–±–∞ —Å ID 13 —É—Å–ø–µ—à–Ω–æ –∑–∞–∫—Ä—ã—Ç–∞"
}
```